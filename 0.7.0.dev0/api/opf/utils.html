<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Utilities &#8212; NuPIC 0.7.0.dev0
 documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.7.0.dev0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Exceptions" href="exceptions.html" />
    <link rel="prev" title="Model Results" href="results.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="utilities">
<h1>Utilities<a class="headerlink" href="#utilities" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-nupic.frameworks.opf.common_models.cluster_params">
<span id="common-models"></span><h2>Common Models<a class="headerlink" href="#module-nupic.frameworks.opf.common_models.cluster_params" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nupic.frameworks.opf.common_models.cluster_params.getScalarMetricWithTimeOfDayAnomalyParams">
<code class="descclassname">nupic.frameworks.opf.common_models.cluster_params.</code><code class="descname">getScalarMetricWithTimeOfDayAnomalyParams</code><span class="sig-paren">(</span><em>metricData</em>, <em>minVal=None</em>, <em>maxVal=None</em>, <em>minResolution=None</em>, <em>tmImplementation='cpp'</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.common_models.cluster_params.getScalarMetricWithTimeOfDayAnomalyParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dict that can be used to create an anomaly model via OPF&#8217;s
ModelFactory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>metricData</strong> &#8211; numpy array of metric data. Used to calculate minVal
and maxVal if either is unspecified</li>
<li><strong>minVal</strong> &#8211; minimum value of metric. Used to set up encoders. If None
will be derived from metricData.</li>
<li><strong>maxVal</strong> &#8211; maximum value of metric. Used to set up input encoders. If
None will be derived from metricData</li>
<li><strong>minResolution</strong> &#8211; minimum resolution of metric. Used to set up
encoders.  If None, will use default value of 0.001.</li>
<li><strong>tmImplementation</strong> &#8211; string specifying type of temporal memory implementation.
Valid strings : {&#8220;cpp&#8221;, &#8220;tm_cpp&#8221;}</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a dict containing &#8220;modelConfig&#8221; and &#8220;inferenceArgs&#8221; top-level
properties. The value of the &#8220;modelConfig&#8221; property is for passing to
the OPF <cite>ModelFactory.create()</cite> method as the <cite>modelConfig</cite> parameter. The
&#8220;inferenceArgs&#8221; property is for passing to the resulting model&#8217;s
<cite>enableInference()</cite> method as the inferenceArgs parameter. NOTE: the
timestamp field corresponds to input &#8220;c0&#8221;; the predicted field corresponds
to input &#8220;c1&#8221;.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Example:</dt>
<dd><p class="first">from nupic.frameworks.opf.model_factory import ModelFactory
from nupic.frameworks.opf.common_models.cluster_params import (</p>
<blockquote>
<div>getScalarMetricWithTimeOfDayAnomalyParams)</div></blockquote>
<dl class="docutils">
<dt>params = getScalarMetricWithTimeOfDayAnomalyParams(</dt>
<dd>metricData=[0],
tmImplementation=&#8221;cpp&#8221;,
minVal=0.0,
maxVal=100.0)</dd>
</dl>
<p class="last">model = ModelFactory.create(modelConfig=params[&#8220;modelConfig&#8221;])
model.enableLearning()
model.enableInference(params[&#8220;inferenceArgs&#8221;])</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="inference-utilities">
<h2>Inference Utilities<a class="headerlink" href="#inference-utilities" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nupic.frameworks.opf.opf_utils.InferenceType">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_utils.</code><code class="descname">InferenceType</code><a class="headerlink" href="#nupic.frameworks.opf.opf_utils.InferenceType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">nupic.support.enum.Enum</span></code></p>
<p>Enum: one of the following:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">TemporalNextStep</span></code></li>
<li><code class="docutils literal"><span class="pre">TemporalClassification</span></code></li>
<li><code class="docutils literal"><span class="pre">NontemporalClassification</span></code></li>
<li><code class="docutils literal"><span class="pre">TemporalAnomaly</span></code></li>
<li><code class="docutils literal"><span class="pre">NontemporalAnomaly</span></code></li>
<li><code class="docutils literal"><span class="pre">TemporalMultiStep</span></code></li>
<li><code class="docutils literal"><span class="pre">NontemporalMultiStep</span></code></li>
</ul>
<dl class="staticmethod">
<dt id="nupic.frameworks.opf.opf_utils.InferenceType.isTemporal">
<em class="property">static </em><code class="descname">isTemporal</code><span class="sig-paren">(</span><em>inferenceType</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_utils.InferenceType.isTemporal" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the inference type is &#8216;temporal&#8217;, i.e. requires a
temporal memory in the network.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nupic.frameworks.opf.opf_utils.InferenceElement">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_utils.</code><code class="descname">InferenceElement</code><a class="headerlink" href="#nupic.frameworks.opf.opf_utils.InferenceElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">nupic.support.enum.Enum</span></code></p>
<dl class="staticmethod">
<dt id="nupic.frameworks.opf.opf_utils.InferenceElement.getInputElement">
<em class="property">static </em><code class="descname">getInputElement</code><span class="sig-paren">(</span><em>inferenceElement</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_utils.InferenceElement.getInputElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the sensor input element that corresponds to the given inference
element. This is mainly used for metrics and prediction logging</p>
</dd></dl>

<dl class="staticmethod">
<dt id="nupic.frameworks.opf.opf_utils.InferenceElement.getMaxDelay">
<em class="property">static </em><code class="descname">getMaxDelay</code><span class="sig-paren">(</span><em>inferences</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_utils.InferenceElement.getMaxDelay" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the maximum delay for the InferenceElements in the inference
dictionary</p>
<p>inferences:   A dictionary where the keys are InferenceElements</p>
</dd></dl>

<dl class="staticmethod">
<dt id="nupic.frameworks.opf.opf_utils.InferenceElement.getTemporalDelay">
<em class="property">static </em><code class="descname">getTemporalDelay</code><span class="sig-paren">(</span><em>inferenceElement</em>, <em>key=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_utils.InferenceElement.getTemporalDelay" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of records that elapse between when an inference is
made and when the corresponding input record will appear. For example, a
multistep prediction for 3 timesteps out will have a delay of 3</p>
<p>inferenceElement:   The InferenceElement value being delayed
key:                If the inference is a dictionary type, this specifies</p>
<blockquote>
<div>key for the sub-inference that is being delayed</div></blockquote>
</dd></dl>

<dl class="staticmethod">
<dt id="nupic.frameworks.opf.opf_utils.InferenceElement.isTemporal">
<em class="property">static </em><code class="descname">isTemporal</code><span class="sig-paren">(</span><em>inferenceElement</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_utils.InferenceElement.isTemporal" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the inference from this timestep is predicted the input
for the NEXT timestep.</p>
<p>NOTE: This should only be checked IF THE MODEL&#8217;S INFERENCE TYPE IS ALSO
TEMPORAL. That is, a temporal model CAN have non-temporal inference elements,
but a non-temporal model CANNOT have temporal inference elements</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="input-utilities">
<h2>Input Utilities<a class="headerlink" href="#input-utilities" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nupic.frameworks.opf.opf_utils.SensorInput">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_utils.</code><code class="descname">SensorInput</code><span class="sig-paren">(</span><em>dataRow=None</em>, <em>dataDict=None</em>, <em>dataEncodings=None</em>, <em>sequenceReset=None</em>, <em>category=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_utils.SensorInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents the mapping of a given inputRecord by the sensor region&#8217;s encoder.</p>
<p>This represents the input record, as it appears right before it is encoded.
This may differ from the raw input in that certain input fields (such as
DateTime fields) may be split into multiple encoded fields.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dataRow</strong> &#8211; A data row that is the sensor&#8217;s <code class="docutils literal"><span class="pre">sourceOut</span></code> mapping of the
supplied inputRecord.</li>
<li><strong>dataEncodings</strong> &#8211; A list of the corresponding bit-array encodings of each
value in &#8220;dataRow&#8221;</li>
<li><strong>sequenceReset</strong> &#8211; The sensor&#8217;s &#8220;resetOut&#8221; signal (0 or 1) emitted by the
sensor&#8217;s compute logic on the supplied inputRecord; provided
for analysis and diagnostics.</li>
<li><strong>dataDict</strong> &#8211; The raw encoded input to the sensor</li>
<li><strong>category</strong> &#8211; the categoryOut on the sensor region</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="nupic.frameworks.opf.opf_utils.ClassifierInput">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_utils.</code><code class="descname">ClassifierInput</code><span class="sig-paren">(</span><em>dataRow=None</em>, <em>bucketIndex=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_utils.ClassifierInput" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-nupic.frameworks.opf.opf_helpers">
<span id="helpers"></span><h2>Helpers<a class="headerlink" href="#module-nupic.frameworks.opf.opf_helpers" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="nupic.frameworks.opf.opf_helpers.loadExperiment">
<code class="descclassname">opf_helpers.</code><code class="descname">loadExperiment</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_helpers.loadExperiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the experiment description file from the path.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>path: The path to a directory containing a description.py file or the file</dt>
<dd>itself.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>(config, control)</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_helpers.loadExperimentDescriptionScriptFromDir">
<code class="descclassname">opf_helpers.</code><code class="descname">loadExperimentDescriptionScriptFromDir</code><span class="sig-paren">(</span><em>experimentDir</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_helpers.loadExperimentDescriptionScriptFromDir" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the experiment description python script from the given experiment
directory.</p>
<p>experimentDir:  experiment directory path</p>
<p>Returns:        module of the loaded experiment description scripts</p>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_helpers.getExperimentDescriptionInterfaceFromModule">
<code class="descclassname">opf_helpers.</code><code class="descname">getExperimentDescriptionInterfaceFromModule</code><span class="sig-paren">(</span><em>module</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_helpers.getExperimentDescriptionInterfaceFromModule" title="Permalink to this definition">¶</a></dt>
<dd><p>module:     imported description.py module</p>
<dl class="docutils">
<dt>Returns:        An exp_description_api.DescriptionIface-based instance that</dt>
<dd>represents the experiment description</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_utils.validateOpfJsonValue">
<code class="descclassname">opf_utils.</code><code class="descname">validateOpfJsonValue</code><span class="sig-paren">(</span><em>value</em>, <em>opfJsonSchemaFilename</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_utils.validateOpfJsonValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a python object against an OPF json schema file</p>
<p>target:   target python object to validate (typically a dictionary)</p>
<dl class="docutils">
<dt>opfJsonSchemaFilename: OPF json schema filename containing the json schema</dt>
<dd>object. (e.g., opfTaskControlSchema.json)</dd>
</dl>
<p>Returns: nothing</p>
<p>Raises: jsonhelpers.ValidationError when value fails json validation</p>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_utils.initLogger">
<code class="descclassname">opf_utils.</code><code class="descname">initLogger</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_utils.initLogger" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to create a logger object for the current object with
the standard Numenta prefix</p>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_utils.matchPatterns">
<code class="descclassname">opf_utils.</code><code class="descname">matchPatterns</code><span class="sig-paren">(</span><em>patterns</em>, <em>keys</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_utils.matchPatterns" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a subset of the keys that match any of the given patterns</p>
<p>patterns:   A list of regular expressions to match
keys:       A list of keys to search for matches</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/numenta-logo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">NuPIC</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=numenta&repo=nupic&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quick-start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/index.html">Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Online Prediction Framework</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="clients.html">Clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="description-api.html">Description API</a></li>
<li class="toctree-l3"><a class="reference internal" href="exp-runner.html">Experiment Runner</a></li>
<li class="toctree-l3"><a class="reference internal" href="environment.html">Environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="results.html">Model Results</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-nupic.frameworks.opf.common_models.cluster_params">Common Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="#inference-utilities">Inference Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#input-utilities">Input Utilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-nupic.frameworks.opf.opf_helpers">Helpers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">Network API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../algorithms/index.html">Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../support/index.html">Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Numenta.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../../_sources/api/opf/utils.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/numenta/nupic" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>