<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Environments &#8212; NuPIC 0.7.0.dev0
 documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.7.0.dev0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Metrics" href="metrics.html" />
    <link rel="prev" title="Experiment Runner" href="exp-runner.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="environments">
<h1>Environments<a class="headerlink" href="#environments" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-nupic.frameworks.opf.opf_task_driver">
<span id="opf-task-driver"></span><h2>OPF Task Driver<a class="headerlink" href="#module-nupic.frameworks.opf.opf_task_driver" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nupic.frameworks.opf.opf_task_driver.OPFTaskDriver">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_task_driver.</code><code class="descname">OPFTaskDriver</code><span class="sig-paren">(</span><em>taskControl</em>, <em>model</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_task_driver.OPFTaskDriver" title="Permalink to this definition">¶</a></dt>
<dd><p>Task Phase Driver implementation</p>
<p>Conceptually, the client injects input records, one at a time, into
an OPFTaskDriver instance for execution according to the
current IterationPhase as maintained by the OPFTaskDriver instance.</p>
<dl class="method">
<dt id="nupic.frameworks.opf.opf_task_driver.OPFTaskDriver.finalize">
<code class="descname">finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_task_driver.OPFTaskDriver.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform final activities, including &#8216;finish&#8217; callbacks. This
method MUST be called once after the last call to handleInputRecord()</p>
<p>Returns:      nothing</p>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_task_driver.OPFTaskDriver.getMetricLabels">
<code class="descname">getMetricLabels</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_task_driver.OPFTaskDriver.getMetricLabels" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of labels for the metrics that are being calculated</p>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_task_driver.OPFTaskDriver.getMetrics">
<code class="descname">getMetrics</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_task_driver.OPFTaskDriver.getMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the current metric values</p>
<dl class="docutils">
<dt>Returns:    A dictionary of metric values. The key for</dt>
<dd>each entry is the label for the metric spec, as generated by
MetricSpec.getLabel(). The value for each entry is a
dictonary containing the value of the metric as returned by the
metric module&#8217;s getMetric() function (see metrics.py)</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_task_driver.OPFTaskDriver.handleInputRecord">
<code class="descname">handleInputRecord</code><span class="sig-paren">(</span><em>inputRecord</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_task_driver.OPFTaskDriver.handleInputRecord" title="Permalink to this definition">¶</a></dt>
<dd><p>Processes the given record according to the current iteration cycle phase</p>
<dl class="docutils">
<dt>inputRecord:  record object formatted according to</dt>
<dd>nupic.data.FileSource.getNext() result format.</dd>
</dl>
<p>Returns:      An opf_utils.ModelResult object</p>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_task_driver.OPFTaskDriver.replaceIterationCycle">
<code class="descname">replaceIterationCycle</code><span class="sig-paren">(</span><em>phaseSpecs</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_task_driver.OPFTaskDriver.replaceIterationCycle" title="Permalink to this definition">¶</a></dt>
<dd><p>Replaces the Iteration Cycle phases</p>
<dl class="docutils">
<dt>phaseSpecs:   Iteration cycle description consisting of a sequence of</dt>
<dd>IterationPhaseSpecXXXXX elements that are performed in the
given order</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_task_driver.OPFTaskDriver.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_task_driver.OPFTaskDriver.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs initial setup activities, including &#8216;setup&#8217; callbacks. This
method MUST be called once before the first call to handleInputRecord()</p>
<p>Returns:      nothing</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nupic.frameworks.opf.opf_task_driver.IterationPhaseSpecLearnOnly">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_task_driver.</code><code class="descname">IterationPhaseSpecLearnOnly</code><span class="sig-paren">(</span><em>nIters</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_task_driver.IterationPhaseSpecLearnOnly" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents the Learn-only phase of the Iteration Cycle in
the TaskControl block of description.py</p>
</dd></dl>

<dl class="class">
<dt id="nupic.frameworks.opf.opf_task_driver.IterationPhaseSpecInferOnly">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_task_driver.</code><code class="descname">IterationPhaseSpecInferOnly</code><span class="sig-paren">(</span><em>nIters</em>, <em>inferenceArgs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_task_driver.IterationPhaseSpecInferOnly" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents the Infer-only phase of the Iteration Cycle in
the TaskControl block of description.py</p>
</dd></dl>

<dl class="class">
<dt id="nupic.frameworks.opf.opf_task_driver.IterationPhaseSpecLearnAndInfer">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_task_driver.</code><code class="descname">IterationPhaseSpecLearnAndInfer</code><span class="sig-paren">(</span><em>nIters</em>, <em>inferenceArgs=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_task_driver.IterationPhaseSpecLearnAndInfer" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents the Learn-and-Infer phase of the Iteration Cycle in
the TaskControl block of description.py</p>
</dd></dl>

</div>
<div class="section" id="module-nupic.frameworks.opf.opf_environment">
<span id="opf-environment"></span><h2>OPF Environment<a class="headerlink" href="#module-nupic.frameworks.opf.opf_environment" title="Permalink to this headline">¶</a></h2>
<p>This file describes the interfaces for adapting OPFTaskDriver to specific
environments.</p>
<p>These interfaces encapsulate external specifics, such as
data source (e.g., .csv file or database, etc.), prediction sink (.csv file or
databse, etc.), report and serialization destination,  etc.</p>
<dl class="class">
<dt id="nupic.frameworks.opf.opf_environment.PredictionLoggerIface">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_environment.</code><code class="descname">PredictionLoggerIface</code><a class="headerlink" href="#nupic.frameworks.opf.opf_environment.PredictionLoggerIface" title="Permalink to this definition">¶</a></dt>
<dd><p>This class defines the interface for OPF prediction logger implementations.</p>
<dl class="method">
<dt id="nupic.frameworks.opf.opf_environment.PredictionLoggerIface.checkpoint">
<code class="descname">checkpoint</code><span class="sig-paren">(</span><em>checkpointSink</em>, <em>maxRows</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_environment.PredictionLoggerIface.checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a checkpoint of the prediction output stream. The checkpoint
comprises up to maxRows of the most recent inference records.</p>
<dl class="docutils">
<dt>checkpointSink:     A File-like object where predictions checkpoint data, if</dt>
<dd>any, will be stored.</dd>
<dt>maxRows:            Maximum number of most recent inference rows</dt>
<dd>to checkpoint.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_environment.PredictionLoggerIface.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_environment.PredictionLoggerIface.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes connect to output store and cleans up any resources associated
with writing</p>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_environment.PredictionLoggerIface.setLoggedMetrics">
<code class="descname">setLoggedMetrics</code><span class="sig-paren">(</span><em>metricNames</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_environment.PredictionLoggerIface.setLoggedMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets which metrics should be written to the prediction log</p>
<dl class="docutils">
<dt>metricNames:      A list of metric names that match the labels of the</dt>
<dd>metrics that should be written to the prediction log</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_environment.PredictionLoggerIface.writeRecord">
<code class="descname">writeRecord</code><span class="sig-paren">(</span><em>modelResult</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_environment.PredictionLoggerIface.writeRecord" title="Permalink to this definition">¶</a></dt>
<dd><p>Emits a set of inputs data, inferences, and metrics from a model
resulting from a single record.</p>
<dl class="docutils">
<dt>modelResult:    An opf_utils.ModelResult object that contains the model input</dt>
<dd>and output for the current timestep.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_environment.PredictionLoggerIface.writeRecords">
<code class="descname">writeRecords</code><span class="sig-paren">(</span><em>modelResults</em>, <em>progressCB=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_environment.PredictionLoggerIface.writeRecords" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as writeRecord above, but emits multiple rows in one shot.</p>
<dl class="docutils">
<dt>modelResults:  a list of opf_utils.ModelResult objects, Each dictionary</dt>
<dd>represents one record.</dd>
<dt>progressCB: an optional callback method that will be called after each</dt>
<dd>batch of records is written.</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-nupic.frameworks.opf.opf_basic_environment">
<span id="opf-basic-environment"></span><h2>OPF Basic Environment<a class="headerlink" href="#module-nupic.frameworks.opf.opf_basic_environment" title="Permalink to this headline">¶</a></h2>
<p>This script provides a file-based implementation of the opf_environment
interfaces (OPF).</p>
<p>This &#8220;basic&#8221; implementation of the interface (need a better name
instead of &#8220;basic&#8221;) uses files (.csv, etc.) versus Nupic&#8217;s implementation
that would use databases.</p>
<p>This implementation is used by research tools, such as run_opf_experiment.</p>
<p>The opf_environment interfaces encapsulate external specifics, such as
data source (e.g., .csv file or database, etc.), prediction sink (.csv file or
databse, etc.), report and serialization destination,  etc.</p>
<dl class="class">
<dt id="nupic.frameworks.opf.opf_basic_environment.PredictionMetricsLoggerIface">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_basic_environment.</code><code class="descname">PredictionMetricsLoggerIface</code><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.PredictionMetricsLoggerIface" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the interface for output of prediction metrics</p>
<dl class="method">
<dt id="nupic.frameworks.opf.opf_basic_environment.PredictionMetricsLoggerIface.emitFinalMetrics">
<code class="descname">emitFinalMetrics</code><span class="sig-paren">(</span><em>metrics</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.PredictionMetricsLoggerIface.emitFinalMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Emits final metrics.</p>
<dl class="docutils">
<dt>NOTE: the intention is that the final metrics may go to a different</dt>
<dd>place (e.g., csv file) versus emitPeriodicMetrics (e.g., stdout)</dd>
</dl>
<p>metrics:        A list of prediction_metrics_manager.MetricValueElement:</p>
<p>Returns:        nothing.</p>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_basic_environment.PredictionMetricsLoggerIface.emitPeriodicMetrics">
<code class="descname">emitPeriodicMetrics</code><span class="sig-paren">(</span><em>metrics</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.PredictionMetricsLoggerIface.emitPeriodicMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Emits periodic metrics</p>
<p>metrics:        A list of prediction_metrics_manager.MetricValueElement:</p>
<p>Returns:        nothing.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nupic.frameworks.opf.opf_basic_environment.DatasetReaderIface">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_basic_environment.</code><code class="descname">DatasetReaderIface</code><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.DatasetReaderIface" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the interface class for a dataset readers</p>
<dl class="method">
<dt id="nupic.frameworks.opf.opf_basic_environment.DatasetReaderIface.getDatasetFieldMetaData">
<code class="descname">getDatasetFieldMetaData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.DatasetReaderIface.getDatasetFieldMetaData" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Returns:      a tuple of dataset field metadata descriptors that are</dt>
<dd>arranged in the same order as the columns in the dataset.
Each field metadata descriptor is of type
nupic.data.fieldmeta.FieldMetaInfo</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_basic_environment.DatasetReaderIface.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.DatasetReaderIface.next" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Returns:      The next record from the dataset.  The returned record object</dt>
<dd>is of the same structure as returned by
RecordStreamIface.getNextRecord(). Returns None if
the next record is not available yet.</dd>
<dt>Exceptions:</dt>
<dd><dl class="first last docutils">
<dt>StopIteration:  if a hard &#8220;end of file&#8221; has been reached</dt>
<dd>and no more records will be forthcoming.</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nupic.frameworks.opf.opf_basic_environment.BasicPredictionMetricsLogger">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_basic_environment.</code><code class="descname">BasicPredictionMetricsLogger</code><span class="sig-paren">(</span><em>experimentDir</em>, <em>label</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.BasicPredictionMetricsLogger" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nupic.frameworks.opf.opf_basic_environment.PredictionMetricsLoggerIface" title="nupic.frameworks.opf.opf_basic_environment.PredictionMetricsLoggerIface"><code class="xref py py-class docutils literal"><span class="pre">nupic.frameworks.opf.opf_basic_environment.PredictionMetricsLoggerIface</span></code></a></p>
<p>This is the file-based implementation of the interface for output of
prediction metrics</p>
<p>TODO: where should periodic and final predictions go (versus stdout)</p>
<dl class="method">
<dt id="nupic.frameworks.opf.opf_basic_environment.BasicPredictionMetricsLogger.emitFinalMetrics">
<code class="descname">emitFinalMetrics</code><span class="sig-paren">(</span><em>metrics</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.BasicPredictionMetricsLogger.emitFinalMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Emits final metrics.</p>
<dl class="docutils">
<dt>NOTE: the intention is that the final metrics may go to a different</dt>
<dd>place (e.g., csv file) versus emitPeriodicMetrics (e.g., stdout)</dd>
</dl>
<p>metrics:        A list of prediction_metrics_manager.MetricValueElement:</p>
<p>Returns:        nothing.</p>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_basic_environment.BasicPredictionMetricsLogger.emitPeriodicMetrics">
<code class="descname">emitPeriodicMetrics</code><span class="sig-paren">(</span><em>metrics</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.BasicPredictionMetricsLogger.emitPeriodicMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Emits periodic metrics</p>
<p>metrics:        A list of prediction_metrics_manager.MetricValueElement:</p>
<p>Returns:        nothing.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nupic.frameworks.opf.opf_basic_environment.BasicDatasetReader">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_basic_environment.</code><code class="descname">BasicDatasetReader</code><span class="sig-paren">(</span><em>streamDefDict</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.BasicDatasetReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nupic.frameworks.opf.opf_basic_environment.DatasetReaderIface" title="nupic.frameworks.opf.opf_basic_environment.DatasetReaderIface"><code class="xref py py-class docutils literal"><span class="pre">nupic.frameworks.opf.opf_basic_environment.DatasetReaderIface</span></code></a></p>
<p>This is a CSV file-based implementation of DatasetReaderIface</p>
<dl class="method">
<dt id="nupic.frameworks.opf.opf_basic_environment.BasicDatasetReader.getDatasetFieldMetaData">
<code class="descname">getDatasetFieldMetaData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.BasicDatasetReader.getDatasetFieldMetaData" title="Permalink to this definition">¶</a></dt>
<dd><p>[virtual method override]
Returns:      a tuple of dataset field metadata descriptors that are</p>
<blockquote>
<div>arranged in the same order as the columns in the dataset.
Each field metadata descriptor is of type
nupic.data.fieldmeta.FieldMetaInfo</div></blockquote>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nupic.frameworks.opf.opf_basic_environment.NonTemporalPredictionLogAdapter">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_basic_environment.</code><code class="descname">NonTemporalPredictionLogAdapter</code><span class="sig-paren">(</span><em>writer</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.NonTemporalPredictionLogAdapter" title="Permalink to this definition">¶</a></dt>
<dd><p>This class serves as an adapter for a client-instantiated Non-temporal log
writer.</p>
<dl class="method">
<dt id="nupic.frameworks.opf.opf_basic_environment.NonTemporalPredictionLogAdapter.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>modelResult</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.NonTemporalPredictionLogAdapter.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit a input/prediction pair, if possible.</p>
<dl class="docutils">
<dt>modelResult:    An opf_utils.ModelResult object that contains the model input</dt>
<dd>and output for the current timestep.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nupic.frameworks.opf.opf_basic_environment.BasicPredictionLogger">
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_basic_environment.</code><code class="descname">BasicPredictionLogger</code><span class="sig-paren">(</span><em>fields</em>, <em>experimentDir</em>, <em>label</em>, <em>inferenceType</em>, <em>checkpointSource=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.BasicPredictionLogger" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#nupic.frameworks.opf.opf_environment.PredictionLoggerIface" title="nupic.frameworks.opf.opf_environment.PredictionLoggerIface"><code class="xref py py-class docutils literal"><span class="pre">nupic.frameworks.opf.opf_environment.PredictionLoggerIface</span></code></a></p>
<p>This class implements logging of predictions to files as actual vs
predicted values.</p>
<dl class="method">
<dt id="nupic.frameworks.opf.opf_basic_environment.BasicPredictionLogger.checkpoint">
<code class="descname">checkpoint</code><span class="sig-paren">(</span><em>checkpointSink</em>, <em>maxRows</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.BasicPredictionLogger.checkpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>[virtual method override] Save a checkpoint of the prediction output
stream. The checkpoint comprises up to maxRows of the most recent inference
records.</p>
<dl class="docutils">
<dt>checkpointSink:     A File-like object where predictions checkpoint data, if</dt>
<dd>any, will be stored.</dd>
<dt>maxRows:            Maximum number of most recent inference rows</dt>
<dd>to checkpoint.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_basic_environment.BasicPredictionLogger.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.BasicPredictionLogger.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when the stream is completed</p>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_basic_environment.BasicPredictionLogger.setLoggedMetrics">
<code class="descname">setLoggedMetrics</code><span class="sig-paren">(</span><em>metricNames</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.BasicPredictionLogger.setLoggedMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>[virtual method override] Sets which metrics should be written to the
prediction log</p>
<dl class="docutils">
<dt>metricNames:      A list of metric names that match the labels of the</dt>
<dd>metrics that should be written to the prediction log</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_basic_environment.BasicPredictionLogger.writeRecord">
<code class="descname">writeRecord</code><span class="sig-paren">(</span><em>modelResult</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.BasicPredictionLogger.writeRecord" title="Permalink to this definition">¶</a></dt>
<dd><p>Emits a set of inputs data, inferences, and metrics from a model
resulting from a single record.</p>
<dl class="docutils">
<dt>modelResult:    An opf_utils.ModelResult object that contains the model input</dt>
<dd>and output for the current timestep.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="nupic.frameworks.opf.opf_basic_environment.BasicPredictionLogger.writeRecords">
<code class="descname">writeRecords</code><span class="sig-paren">(</span><em>modelResults</em>, <em>progressCB=None</em><span class="sig-paren">)</span><a class="headerlink" href="#nupic.frameworks.opf.opf_basic_environment.BasicPredictionLogger.writeRecords" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as writeRecord above, but emits multiple rows in one shot.</p>
<dl class="docutils">
<dt>modelResults:  a list of opf_utils.ModelResult objects, Each dictionary</dt>
<dd>represents one record.</dd>
<dt>progressCB: an optional callback method that will be called after each</dt>
<dd>batch of records is written.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">nupic.frameworks.opf.opf_basic_environment.</code><code class="descname">NonTemporalPredictionLogAdapter</code><span class="sig-paren">(</span><em>writer</em><span class="sig-paren">)</span></dt>
<dd><p>This class serves as an adapter for a client-instantiated Non-temporal log
writer.</p>
<dl class="method">
<dt>
<code class="descname">update</code><span class="sig-paren">(</span><em>modelResult</em><span class="sig-paren">)</span></dt>
<dd><p>Emit a input/prediction pair, if possible.</p>
<dl class="docutils">
<dt>modelResult:    An opf_utils.ModelResult object that contains the model input</dt>
<dd>and output for the current timestep.</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/numenta-logo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">NuPIC</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=numenta&repo=nupic&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quick-start/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guides/index.html">Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Online Prediction Framework</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="clients.html">Clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="description-api.html">Description API</a></li>
<li class="toctree-l3"><a class="reference internal" href="exp-runner.html">Experiment Runner</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Environments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-nupic.frameworks.opf.opf_task_driver">OPF Task Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-nupic.frameworks.opf.opf_environment">OPF Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-nupic.frameworks.opf.opf_basic_environment">OPF Basic Environment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l3"><a class="reference internal" href="results.html">Model Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="utils.html">Utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">Network API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../algorithms/index.html">Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../support/index.html">Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Numenta.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../../_sources/api/opf/environment.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/numenta/nupic" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>